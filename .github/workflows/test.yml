name: Django CI

on: [pull_request, push]

jobs:
    test_project:
        runs-on: ubuntu-latest # operating system your code will run on
        steps:
            - uses: actions/checkout@v2
            - uses: actions/setup-python@v2
            - run: pip install flake8
            - run: pip install -r apps/requirements.txt # install all our dependencies for the project
            - run: flake8 . # run flake8 test
            - run: cd apps/
            - run: bash setup_env.sh
            - run: python manage.py test # run pytest test

